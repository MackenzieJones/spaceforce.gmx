<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>directorGarbage</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all()
randomize()
global.realized = false
global.newLevel = true
global.level = 0
global.doOnce = true
global.finishedLevel = false
global.playerDead = false

global.mainSpeed = 150
global.bulletDamage = 10

musicStarted = false

maxInLevel = 4
global.enemyStockCount = 0
global.enemyLoadedCount = 0
enemies[0] = 0
enemies[1] = 0
enemies[2] = 0



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Load next level
if (global.newLevel){
    satellite.satelliteHealth = 1200
    global.doOnce = true
    global.level += 1
    if (musicStarted){
        musicStarted = false
        audio_stop_all()   
    }
    global.newLevel = false
    if (global.level == 1){
        enemies[0] = 6
        enemies[1] = 0
        enemies[2] = 0
        global.enemyStockCount = 6
    }else if (global.level == 2){
        enemies[0] = 6
        enemies[1] = 3
        enemies[2] = 0
        global.enemyStockCount = 9
    }else if (global.level == 3){
        enemies[0] = 6
        enemies[1] = 6
        enemies[2] = 3
        global.enemyStockCount = 15
    }else{
        room_goto(finalRoom)
    }
}

//Spawn in the level
if(!global.playerDead &amp;&amp; global.enemyLoadedCount &lt; maxInLevel &amp;&amp; global.enemyStockCount &gt; 0){
    ran = random(3)
    //Calc rand position off screen
    if (random(1) &gt; 0.5){
        if (random(1) &gt; 0.5)
            newX = -1000
        else
            newX = 1000
        newY = random_range(-1000,1000)
    }else{
        if (random(1) &gt; 0.5) 
            newY = -1000
        else 
            newY = 1000
        newX = random_range(-1000,1000)
    }
    
    if ran &lt; 1 &amp;&amp; enemies[0] &gt; 0{
        instance_create(player.x + newX, player.y + newY, enemy)
        enemies[0] -= 1
        global.enemyStockCount -= 1
        global.enemyLoadedCount += 1
        
    }else if ran &lt; 2 &amp;&amp; enemies[1] &gt; 0{
        instance_create(player.x + newX, player.y + newY, rocket)
        enemies[1] -= 1
        global.enemyStockCount -= 1
        global.enemyLoadedCount += 1
        
    }else if enemies[2] &gt; 0{
        instance_create(player.x + newX, player.y + newY, BIGenemy)
        enemies[2] -= 1
        global.enemyStockCount -= 1
        global.enemyLoadedCount += 1
    }
}

global.finishedLevel = global.enemyLoadedCount + global.enemyStockCount &lt;= 0

if (!musicStarted){
    if (global.level == 1)
        audio_play_sound(rushSong, 0, true)
    else if (global.level == 2)
        audio_play_sound(dogSong, 0, true)
    else
        audio_play_sound(goodSong, 0, true)
    musicStarted = true
}

if (global.finishedLevel || global.playerDead){
    instance_destroy(bullet)
    instance_destroy(eBullet)
    instance_destroy(enemy)
    instance_destroy(BIGenemy)
    instance_destroy(rocket)
    instance_destroy(lazerAim)
    instance_destroy(BIGlazer)
    global.enemyLoadedCount = 0
    global.enemyStockCount = 0
    
}

if (!global.playerDead &amp;&amp; global.finishedLevel &amp;&amp; global.doOnce){
    global.doOnce = false
    instance_create(player.x, player.y, levelWon)
    instance_destroy(player)
    //Wait for player input to proceed
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Display score and enemies
draw_set_font(gameFont)
draw_text(4,700, "Level: " + string(global.level));
draw_text(4,750, "Enemies Remaining: " + string(global.enemyStockCount + global.enemyLoadedCount));
draw_set_font(magFont)
draw_text(1000, 50, string(round(global.money)))

draw_set_font(gameFont)
draw_text(500, 800, "Mission: - Protect the satellite")
draw_text(500, 850, "               - Destroy the AI training enemies")
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
